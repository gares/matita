(**************************************************************************)
(*       ___                                                              *)
(*      ||M||                                                             *)
(*      ||A||       A project by Andrea Asperti                           *)
(*      ||T||                                                             *)
(*      ||I||       Developers:                                           *)
(*      ||T||         The HELM team.                                      *)
(*      ||A||         http://helm.cs.unibo.it                             *)
(*      \   /                                                             *)
(*       \ /        This file is distributed under the terms of the       *)
(*        v         GNU General Public License Version 2                  *)
(*                                                                        *)
(**************************************************************************)

notation "hvbox( L ‚ä¢ break ùêáùêç ‚¶É term 46 T ‚¶Ñ )"
   non associative with precedence 45
   for @{ 'HdNormal $L $T }.

include "basic_2/reduction/cpr_tshf.ma".

(* CONTEXT-SENSITIVE WEAK HEAD NORMAL TERMS *********************************)

definition chnf: lenv ‚Üí predicate term ‚âù ŒªL. NF ‚Ä¶ (cpr L) tshf.

interpretation
   "context-sensitive head normality (term)"
   'HdNormal L T = (chnf L T).

(* Basic inversion lemmas ***************************************************)

lemma chnf_inv_tshf: ‚àÄL,T. L ‚ä¢ ùêáùêç‚¶ÉT‚¶Ñ ‚Üí T ‚âà T.
normalize /2 width=1/
qed-.

(* Basic properties *********************************************************)

lemma tshf_thnf: ‚àÄT. T ‚âà T ‚Üí ‚ãÜ ‚ä¢ ùêáùêç‚¶ÉT‚¶Ñ.
#T #HT #T2 #H elim (cpr_fwd_tshf1 ‚Ä¶ H) -H //
#H elim H //
qed.
